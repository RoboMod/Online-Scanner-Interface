{% extends "main.html" %}

{% block content %}
<div class="container">
    <ul class="nav nav-tabs">
        <li role="presentation" class="active"><a data-toggle="tab" href="#overview">Overview</a></li>
        {% for scanner in scanners %}
            <li role="presentation"><a data-toggle="tab" href="#{{ scanner.model }}">{{ scanner.model }}</a></li>
        {% endfor %}
    </ul>
    <div class="tab-content">
        <div id="overview" class="tab-pane fade in active">
            {% if scanners %}
            <div class="table-responsive"> 
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Scanner</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for scanner in scanners %}
                        <tr>
                            <td>{{ scanner.model|e }}</td>
                            <td>
                                {{ scanner.options['resolution'].value }} dpi /
                                {{ scanner.options['mode'].value }} 
                            </td>
                            <td>{% if showbutton %}
                                    <form class="navbar-form navbar-left" action="/startserver" method="post">
                                    <input type="submit" class="btn btn-default" value="VNC-Server starten"></input>
                                    </form>
                                {% else %}
                                    <form class="navbar-form navbar-left" action="/stoppserver" method="post">
                                    <input type="submit" class="btn btn-default" value="VNC-Server stoppen"></input>
                                    </form>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="alert alert-danger" role="alert">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <span class="sr-only">Error:</span>
                No scanners found!
            </div>
            {% endif %}
        </div>
        {% for scanner in scanners %}
            <div id="{{ scanner.model }}" class="tab-pane fade">
                
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}